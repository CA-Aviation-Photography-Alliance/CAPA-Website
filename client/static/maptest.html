<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Leaflet Test</title>
		<link
			rel="stylesheet"
			href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
			integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
			crossorigin=""
		/>
		<style>
			body {
				margin: 0;
				padding: 20px;
				font-family: Arial, sans-serif;
			}
			.status {
				padding: 10px;
				background: #f0f0f0;
				margin-bottom: 20px;
				border-radius: 4px;
			}
			#map {
				height: 400px;
				width: 100%;
				border: 2px solid #333;
				border-radius: 8px;
			}
		</style>
	</head>
	<body>
		<h1>Leaflet Map Test</h1>
		<div class="status" id="status">Loading...</div>
		<div id="map"></div>

		<script
			src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
			integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
			crossorigin=""
		></script>

		<script>
			const statusEl = document.getElementById('status');

			function updateStatus(message) {
				statusEl.textContent = message;
				// console.log(message);
			}

			// Check if Leaflet loaded
			if (typeof L === 'undefined') {
				updateStatus('ERROR: Leaflet not loaded');
			} else {
				updateStatus('Leaflet loaded successfully');

				try {
					// Create map
					const map = L.map('map').setView([37.7749, -122.4194], 10);

					// Add tile layer
					L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
						attribution: 'Â© OpenStreetMap contributors'
					}).addTo(map);

					// Add marker
					L.marker([37.7749, -122.4194]).addTo(map).bindPopup('San Francisco').openPopup();

					updateStatus('Map created successfully!');
				} catch (error) {
					updateStatus('ERROR: ' + error.message);
					console.error('Map error:', error);
				}
			}
		</script>
	</body>
</html>
